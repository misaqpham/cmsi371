<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>The Final Rose</title>
  </head>
  <body>
    <canvas id="canvas" width="800" height="500">
      Sorry, but you need a web browser that supports the
      <code>canvas</code> element.
    </canvas>
    <script src="http://code.jquery.com/jquery-latest.min.js"></script>
    <script src="dialogue.js"></script>

    <script>
    (function () {
      var canvas = document.getElementById("canvas");
      var renderingContext = canvas.getContext("2d");

      var drawScene = function(){
        renderingContext.clearRect(0, 0, canvas.width, canvas.height);

        renderingContext.save();
        renderingContext.translate(30,20);
        SpriteLibrary.dialogue.draw({
          renderingContext: renderingContext,
          text: "Jojo...",
          textPosition: 85,
          bubbleSize: "small"
        });
        renderingContext.restore();

        renderingContext.save();
        renderingContext.translate(430,100);
        SpriteLibrary.dialogue.draw({
          renderingContext: renderingContext,
          text: "I'm sorry...",
          speakerPosition: "right",
          textPosition: -245,
          bubbleSize: "medium"
        });
        renderingContext.restore();

        renderingContext.save();
        renderingContext.translate(30,200);
        SpriteLibrary.dialogue.draw({
          renderingContext: renderingContext,
          text: "Will you accept this rose?",
          textPosition: 50,
          bubbleSize: "large"
        });
        renderingContext.restore();

        window.requestAnimationFrame(drawScene);  
      };

      window.requestAnimationFrame(drawScene);
    }())    
    </script>
  </body>
</html>
